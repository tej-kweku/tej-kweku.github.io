{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/GeoJSONWidget.vue?9446","webpack:///./src/App.vue?19a0","webpack:///./src/components/GeoJSONWidget.vue?806a","webpack:///src/components/GeoJSONWidget.vue","webpack:///./src/components/GeoJSONWidget.vue?1474","webpack:///./src/components/GeoJSONWidget.vue?5bf6","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","parentBBox","siblingGeojson","on","$event","newGeoJSON","showError","model","callback","$$v","gd","expression","_v","_s","staticRenderFns","staticClass","staticStyle","wDataInputType","directives","rawName","ref","inputDisabled","domProps","_q","inputType","mapDataInputChanged","_e","toggleConfigContainer","style","display","config","show","configContainer","Number","minFeatures","maxFeatures","target","composing","$set","Array","isArray","_i","$$a","$$el","$$c","checked","$$i","concat","showParentBBox","showSiblingGeojson","validationRules","errors","turf","noIntersectingFeatures","doNotIntersectSiblingGeojson","featuresInBoundingBox","canAddFeature","preventDefault","addFeature","_l","geojson","feature","fIdx","properties","refInFor","_m","geometry","removeFeature","canEdit","stopPropagation","editMapData","canReset","resetMapData","canValidate","validateMapData","map","props","countFeatures","type","features","finalGeojson","defaults","dataInputType","methods","newFeature","$emit","drawControl","_map","addControl","JSON","parse","stringify","geoJSONGroup","clearLayers","testHasValidFeatures","Promise","vm","dataGeojson","forEach","coordElement","$refs","classList","remove","title","Error","poly","add","focus","reject","test","resolve","testFeaturesIntersectOneAnother","intersects","intersectObj","primaryFeature","pFIdx","secondaryFeature","sFIdx","intersect","titles","primaryFeatureTitle","secondaryFeatureTitle","indexes","testFeaturesIntersectSiblingGeojson","siblingFeature","siblingFeatures","siblingFIdx","newFIdx","siblingFeatureTitle","newFeatureTitle","testBoundingBoxContainsFeatures","featurePoints","explode","pFeature","fpCount","featurePointsCol","featureCollection","pointsWithinParentBBox","within","pFeatureTitle","nextView","toGeoJSON","coordinates","parentBBoxGeoJSONGroup","L","geoJSON","pmIgnore","color","fillOpacity","fillColor","weight","fitBounds","getBounds","$nextTick","invalidateSize","err","message","removeLayer","siblingGeoJSONGroup","dashArray","dashOffset","initializeMap","mapbox","accessToken","mapboxAccessToken","featureGroup","addData","keys","e","layers","_layers","onEachFeature","layer","tag","input","DomUtil","DomEvent","addListener","bindPopup","Control","Draw","edit","draw","polygon","polyline","rectangle","circle","marker","whenReady","dispatchEvent","Event","computed","created","mounted","point","beforeRouteLeave","next","component","components","GeoJSONWidget","console","log","alert","Vue","productionTip","render","h","App","$mount"],"mappings":"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,cACA,wBAMA,CACU,KAAV,UACU,WAAV,CAAY,MAAZ,gBACU,SAAV,CACY,KAAZ,UACY,YAAZ,CACA,CACA,EACA,iBACA,oBAEA,CACA,cACA,oBAEA,CACA,cACA,mBAEA,EACA,iBACA,mBAEA,EACA,iBACA,0BAQMD,WAAY,CACV,KAAQ,oBACR,SAAY,CACpB,CACU,KAAV,UACU,WAAV,GACU,SAAV,CACY,KAAZ,UACY,YAAZ,CACA,CACA,EACA,iBACA,kBAEA,EACA,iBACA,mBAEA,EACA,eACA,kBAEA,EACA,eACA,mBAEA,EACA,mBACA,mBAEA,CACA,gBACA,mBAEA,CACA,eACA,mBAEA,CACA,iBACA,mBAEA,CACA,mBACA,mBAEA,CACA,iBACA,mBAEA,CACA,iBACA,oBAEA,CACA,gBACA,mBAEA,CACA,iBACA,mBAEA,CACA,iBACA,kBAEA,CACA,eACA,mBAEA,CACA,iBACA,mBAEA,CACA,gBACA,mBAEA,CACA,iBACA,mBAEA,CACA,iBACA,oBAEA,CACA,iBACA,mBAEA,CACA,gBACA,oBAEA,CACA,gBACA,oBAEA,CACA,gBACA,kBAEA,CACA,mBACA,mBAEA,CACA,eACA,mBAEA,CACA,gBACA,oBAEA,CACA,cACA,mBAEA,CACA,eACA,mBAEA,CACA,cACA,mBAEA,CACA,iBACA,mBAEA,CACA,gBACA,mBAEA,CACA,iBACA,mBAEA,CACA,iBACA,mBAEA,CACA,iBACA,mBAEA,CACA,iBACA,mBAEA,CACA,mBACA,oBAEA,CACA,gBACA,mBAEA,CACA,gBACA,mBAEA,CACA,iBACA,mBAEA,EACA,iBACA,mBAEA,EACA,YACA,oBAEA,EACA,mBACA,mBAEA,EACA,iBACA,mBAEA,EACA,iBACA,mBAEA,EACA,eACA,iBAEA,EACA,iBACA,mBAEA,EACA,cACA,kBAEA,EACA,mBACA,mBAEA,EACA,iBACA,mBAEA,EACA,gBACA,mBAEA,EACA,mBACA,mBAEA,EACA,eACA,kBAEA,EACA,eACA,mBAEA,EACA,mBACA,oBAEA,EACA,iBACA,mBAEA,EACA,iBACA,kBAEA,EACA,iBACA,mBAEA,EACA,iBACA,mBAEA,EACA,eACA,mBAEA,EACA,iBACA,0BAUEkF,QAAS,CACP9E,WAAY,SAAhB,GACMmM,QAAQC,IAAI7I,GACZjE,KAAKiE,QAAUA,GAEjBtD,UAAW,SAAf,GACMkM,QAAQC,IAAI9C,GACZ+C,MAAM/C,MCzWkT,ICQ1T,G,UAAY,eACd,EACA,EACA7I,GACA,EACA,KACA,KACA,OAIa,I,QChBf6L,OAAI7K,OAAO8K,eAAgB,EAE3B,IAAID,OAAI,CACNE,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACdC,OAAO,S","file":"js/app.ac40debb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeoJSONWidget.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeoJSONWidget.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('geojson-widget',{attrs:{\"mapbox-access-token\":\"pk.eyJ1IjoidGVqLWt3ZWt1IiwiYSI6ImNrYXY4aW43dzA5OG4ycXBjbXp0b2FveWMifQ.ZkKcESUjcSJOaa3zACXJNw\",\"min-features\":\"1\",\"max-features\":\"5\",\"parentBBox\":_vm.parentBBox,\"sibling-geojson\":_vm.siblingGeojson},on:{\"input\":function($event){return _vm.newGeoJSON($event)},\"error\":_vm.showError},model:{value:(_vm.gd),callback:function ($$v) {_vm.gd=$$v},expression:\"gd\"}}),_vm._v(\" \"+_vm._s(_vm.gd)+\" \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"container\",attrs:{\"id\":\"top-widget-controls\"}},[_c('div',{staticClass:\"form-group\"},[_c('h5',{staticClass:\"m-r-20\",staticStyle:{\"display\":\"inline\"}},[_vm._v(\"Data Input\")]),(_vm.wDataInputType == 'manual' || _vm.wDataInputType == 'both')?_c('label',{staticClass:\"custom-control custom-radio custom-control-inline\",attrs:{\"for\":\"geojson-input-type-manual\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputType),expression:\"inputType\"}],ref:\"geojsonInputTypeManual\",staticClass:\"control-input\",attrs:{\"type\":\"radio\",\"id\":\"geojson-input-type-manual\",\"value\":\"manual\",\"disabled\":_vm.inputDisabled},domProps:{\"checked\":_vm._q(_vm.inputType,\"manual\")},on:{\"change\":[function($event){_vm.inputType=\"manual\"},function($event){return _vm.mapDataInputChanged('manual')}]}}),_c('span',{staticClass:\"custom-control-label\"},[_vm._v(\"Manual\")])]):_vm._e(),(_vm.wDataInputType == 'map' || _vm.wDataInputType == 'both')?_c('label',{staticClass:\"custom-control custom-radio custom-control-inline\",attrs:{\"for\":\"geojson-input-type-map\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputType),expression:\"inputType\"}],ref:\"geojsonInputTypeMap\",staticClass:\"control-input\",attrs:{\"type\":\"radio\",\"id\":\"geojson-input-type-map\",\"value\":\"map\",\"disabled\":_vm.inputDisabled},domProps:{\"checked\":_vm._q(_vm.inputType,\"map\")},on:{\"change\":[function($event){_vm.inputType=\"map\"},function($event){return _vm.mapDataInputChanged('map')}]}}),_c('span',{staticClass:\"custom-control-label\"},[_vm._v(\"Map\")])]):_vm._e()]),_c('div',{staticClass:\"config\"},[_c('button',{on:{\"click\":_vm.toggleConfigContainer}},[_vm._v(\" Config\")]),_c('div',{staticClass:\"config-content\",style:({ display: _vm.config.show.configContainer })},[_c('h5',{staticClass:\"config-title\"},[_vm._v(\" Feature Count\")]),_c('div',{staticClass:\"config-group\"},[_c('label',{staticClass:\"custom-control custom-radio custom-control-inline\",attrs:{\"for\":\"config-min-features\"}},[_vm._v(\"Minumum: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.config.minFeatures),expression:\"config.minFeatures\"}],staticClass:\"control-input\",attrs:{\"type\":\"number\",\"id\":\"config-min-features\",\"min\":Number(_vm.minFeatures),\"max\":Number(_vm.config.maxFeatures) - 1},domProps:{\"value\":(_vm.config.minFeatures)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.config, \"minFeatures\", $event.target.value)}}})]),_c('div',{staticClass:\"config-group\"},[_c('label',{staticClass:\"custom-control custom-radio custom-control-inline\",attrs:{\"for\":\"config-max-features\"}},[_vm._v(\"Maximum: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.config.maxFeatures),expression:\"config.maxFeatures\"}],staticClass:\"control-input\",attrs:{\"type\":\"number\",\"id\":\"config-max-features\",\"min\":Number(_vm.config.minFeatures) + 1,\"max\":Number(_vm.maxFeatures)},domProps:{\"value\":(_vm.config.maxFeatures)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.config, \"maxFeatures\", $event.target.value)}}})]),_c('hr'),_c('h5',{staticClass:\"config-title\"},[_vm._v(\" Show Geojsons\")]),_c('div',{staticClass:\"config-group\"},[_c('label',{staticClass:\"custom-control custom-radio custom-control-inline\",attrs:{\"for\":\"config-show-parentbbox\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.config.show.parentBBox),expression:\"config.show.parentBBox\"}],staticClass:\"control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"config-show-parentbbox\",\"disabled\":!_vm.parentBBox,\"true-value\":\"true\",\"false-value\":\"\"},domProps:{\"checked\":Array.isArray(_vm.config.show.parentBBox)?_vm._i(_vm.config.show.parentBBox,null)>-1:_vm._q(_vm.config.show.parentBBox,\"true\")},on:{\"change\":[function($event){var $$a=_vm.config.show.parentBBox,$$el=$event.target,$$c=$$el.checked?(\"true\"):(\"\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.config.show, \"parentBBox\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.config.show, \"parentBBox\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.config.show, \"parentBBox\", $$c)}},_vm.showParentBBox]}}),_c('span',{staticClass:\"custom-control-label\"},[_vm._v(\"Parent Bounding Box\")])])]),_c('div',{staticClass:\"config-group\"},[_c('label',{staticClass:\"custom-control custom-radio custom-control-inline\",attrs:{\"for\":\"config-show-sibling-geojson\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.config.show.siblingGeojson),expression:\"config.show.siblingGeojson\"}],staticClass:\"control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"config-show-sibling-geojson\",\"disabled\":!_vm.siblingGeojson,\"true-value\":\"true\",\"false-value\":\"\"},domProps:{\"checked\":Array.isArray(_vm.config.show.siblingGeojson)?_vm._i(_vm.config.show.siblingGeojson,null)>-1:_vm._q(_vm.config.show.siblingGeojson,\"true\")},on:{\"change\":[function($event){var $$a=_vm.config.show.siblingGeojson,$$el=$event.target,$$c=$$el.checked?(\"true\"):(\"\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.config.show, \"siblingGeojson\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.config.show, \"siblingGeojson\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.config.show, \"siblingGeojson\", $$c)}},_vm.showSiblingGeojson]}}),_c('span',{staticClass:\"custom-control-label\"},[_vm._v(\"Sibling Geojson\")])])]),_c('hr'),_c('h5',{staticClass:\"config-title\"},[_vm._v(\" Validation Rules\")]),_c('div',{staticClass:\"config-group\"},[_c('label',{staticClass:\"custom-control custom-radio custom-control-inline\",attrs:{\"for\":\"config-validation-rules-no-intersecting-features\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.config.validationRules.noIntersectingFeatures),expression:\"config.validationRules.noIntersectingFeatures\"}],staticClass:\"control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"config-validation-rules-no-intersecting-features\",\"disabled\":_vm.errors.turf,\"true-value\":\"true\",\"false-value\":\"\"},domProps:{\"checked\":Array.isArray(_vm.config.validationRules.noIntersectingFeatures)?_vm._i(_vm.config.validationRules.noIntersectingFeatures,null)>-1:_vm._q(_vm.config.validationRules.noIntersectingFeatures,\"true\")},on:{\"change\":function($event){var $$a=_vm.config.validationRules.noIntersectingFeatures,$$el=$event.target,$$c=$$el.checked?(\"true\"):(\"\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.config.validationRules, \"noIntersectingFeatures\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.config.validationRules, \"noIntersectingFeatures\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.config.validationRules, \"noIntersectingFeatures\", $$c)}}}}),_c('span',{staticClass:\"custom-control-label\"},[_vm._v(\"No Intersecting Features\")])])]),_c('div',{staticClass:\"config-group\"},[_c('label',{staticClass:\"custom-control custom-radio custom-control-inline\",attrs:{\"for\":\"config-validation-rules-do-not-intersect-sibling-geojson\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.config.validationRules.doNotIntersectSiblingGeojson),expression:\"config.validationRules.doNotIntersectSiblingGeojson\"}],staticClass:\"control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"config-validation-rules-do-not-intersect-sibling-geojson\",\"disabled\":_vm.errors.turf,\"true-value\":\"true\",\"false-value\":\"\"},domProps:{\"checked\":Array.isArray(_vm.config.validationRules.doNotIntersectSiblingGeojson)?_vm._i(_vm.config.validationRules.doNotIntersectSiblingGeojson,null)>-1:_vm._q(_vm.config.validationRules.doNotIntersectSiblingGeojson,\"true\")},on:{\"change\":function($event){var $$a=_vm.config.validationRules.doNotIntersectSiblingGeojson,$$el=$event.target,$$c=$$el.checked?(\"true\"):(\"\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.config.validationRules, \"doNotIntersectSiblingGeojson\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.config.validationRules, \"doNotIntersectSiblingGeojson\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.config.validationRules, \"doNotIntersectSiblingGeojson\", $$c)}}}}),_c('span',{staticClass:\"custom-control-label\"},[_vm._v(\"Do Not Intersect Sibling Geojson\")])])]),_c('div',{staticClass:\"config-group\"},[_c('label',{staticClass:\"custom-control custom-radio custom-control-inline\",attrs:{\"for\":\"config-validation-rules-features-in-bounding-box\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.config.validationRules.featuresInBoundingBox),expression:\"config.validationRules.featuresInBoundingBox\"}],staticClass:\"control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"config-validation-rules-features-in-bounding-box\",\"true-value\":\"true\",\"false-value\":\"\",\"disabled\":!_vm.parentBBox || _vm.errors.turf},domProps:{\"checked\":Array.isArray(_vm.config.validationRules.featuresInBoundingBox)?_vm._i(_vm.config.validationRules.featuresInBoundingBox,null)>-1:_vm._q(_vm.config.validationRules.featuresInBoundingBox,\"true\")},on:{\"change\":function($event){var $$a=_vm.config.validationRules.featuresInBoundingBox,$$el=$event.target,$$c=$$el.checked?(\"true\"):(\"\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.config.validationRules, \"featuresInBoundingBox\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.config.validationRules, \"featuresInBoundingBox\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.config.validationRules, \"featuresInBoundingBox\", $$c)}}}}),_c('span',{staticClass:\"custom-control-label\"},[_vm._v(\"All Features in Bounding Box\")])])])])])]),(_vm.wDataInputType == 'manual' || _vm.wDataInputType == 'both')?_c('form',{directives:[{name:\"show\",rawName:\"v-show\",value:(((_vm.inputType == 'manual'))),expression:\"((inputType == 'manual'))\"}],attrs:{\"id\":\"feature-container\"}},[_c('div',{staticClass:\"m-b-20\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":!_vm.canAddFeature},on:{\"click\":function($event){$event.preventDefault();return _vm.addFeature(1)}}},[_vm._v(\" Add Feature \")]),_vm._l((_vm.geojson.features),function(feature,fIdx){return _c('div',{key:fIdx,staticClass:\"col-lg-12 m-t-10 feature\"},[_c('div',{staticClass:\"m-b-10 m-r-10 feature-title\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"Title\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(feature.properties.title),expression:\"feature.properties.title\"}],ref:'featureTitle' + fIdx,refInFor:true,staticClass:\"form-control\",attrs:{\"disabled\":_vm.inputDisabled,\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(feature.properties.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(feature.properties, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"m-b-10 m-r-10 feature-coordinates\"},[_vm._m(0,true),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(feature.geometry.coordinates),expression:\"feature.geometry.coordinates\"}],ref:'featureCoordinates' + fIdx,refInFor:true,staticClass:\"form-control\",attrs:{\"disabled\":_vm.inputDisabled,\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(feature.geometry.coordinates)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(feature.geometry, \"coordinates\", $event.target.value)}}})]),_c('div',{staticClass:\"feature-actions\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":_vm.inputDisabled},on:{\"click\":function($event){$event.preventDefault();return _vm.removeFeature(fIdx)}}},[_vm._v(\" Remove \")])])])})],2)]):_vm._e(),_c('div',[(_vm.wDataInputType == 'map' || _vm.wDataInputType == 'both')?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(((_vm.inputType == 'map'))),expression:\"((inputType == 'map'))\"}],ref:\"mapObj\",staticClass:\"m-t-20\",attrs:{\"id\":\"map\"}}):_vm._e()]),_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"btn-group m-b-20\"},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"float\":\"right\"},attrs:{\"disabled\":_vm.canEdit},on:{\"click\":function($event){$event.stopPropagation();return _vm.editMapData($event)}}},[_vm._v(\" Edit \")]),_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"float\":\"right\"},attrs:{\"disabled\":_vm.canReset},on:{\"click\":function($event){$event.stopPropagation();return _vm.resetMapData($event)}}},[_vm._v(\" Reset \")]),_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"float\":\"right\"},attrs:{\"disabled\":_vm.canValidate},on:{\"click\":function($event){$event.stopPropagation();return _vm.validateMapData($event)}}},[_vm._v(\" Validate \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"control-label\"},[_vm._v(\" Coordinates \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"container\" id=\"top-widget-controls\">\n      <div class=\"form-group\">\n        <h5 class=\"m-r-20\" style=\"display: inline\">Data Input</h5>\n        <label\n          for=\"geojson-input-type-manual\"\n          class=\"custom-control custom-radio custom-control-inline\"\n          v-if=\"wDataInputType == 'manual' || wDataInputType == 'both'\"\n        >\n          <input\n            type=\"radio\"\n            class=\"control-input\"\n            id=\"geojson-input-type-manual\"\n            value=\"manual\"\n            v-model=\"inputType\"\n            v-bind:disabled=\"inputDisabled\"\n            v-on:change=\"mapDataInputChanged('manual')\"\n            ref=\"geojsonInputTypeManual\"\n          />\n          <span class=\"custom-control-label\">Manual</span>\n        </label>\n        <label\n          for=\"geojson-input-type-map\"\n          class=\"custom-control custom-radio custom-control-inline\"\n          v-if=\"wDataInputType == 'map' || wDataInputType == 'both'\"\n        >\n          <input\n            type=\"radio\"\n            class=\"control-input\"\n            id=\"geojson-input-type-map\"\n            value=\"map\"\n            v-model=\"inputType\"\n            v-bind:disabled=\"inputDisabled\"\n            v-on:change=\"mapDataInputChanged('map')\"\n            ref=\"geojsonInputTypeMap\"\n          />\n          <span class=\"custom-control-label\">Map</span>\n        </label>\n      </div>\n\n      <!-- geojson config pane -->\n      <div class=\"config\">\n        <button\n          v-on:click=\"toggleConfigContainer\"\n        > Config</button>\n        <div \n          class=\"config-content\"\n          v-bind:style=\"{ display: config.show.configContainer }\"\n        >\n\n          <h5 class=\"config-title\"> Feature Count</h5>\n          <div class=\"config-group\">\n            <label\n              for=\"config-min-features\"\n              class=\"custom-control custom-radio custom-control-inline\"\n            >Minumum: </label>\n            <input\n              type=\"number\"\n              class=\"control-input\"\n              id=\"config-min-features\"\n              v-model=\"config.minFeatures\"\n              v-bind:min=\"Number(minFeatures)\"\n              v-bind:max=\"Number(config.maxFeatures) - 1\"\n            />\n          </div>\n          <div class=\"config-group\">\n            <label\n              for=\"config-max-features\"\n              class=\"custom-control custom-radio custom-control-inline\"\n            >Maximum: </label>\n            <input\n              type=\"number\"\n              class=\"control-input\"\n              id=\"config-max-features\"\n              v-model=\"config.maxFeatures\"\n              v-bind:min=\"Number(config.minFeatures) + 1\"\n              v-bind:max=\"Number(maxFeatures)\"\n            />\n          </div>\n          <hr />\n          <h5 class=\"config-title\"> Show Geojsons</h5>\n          <div class=\"config-group\">\n            <label\n              for=\"config-show-parentbbox\"\n              class=\"custom-control custom-radio custom-control-inline\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"control-input\"\n                id=\"config-show-parentbbox\"\n                v-model=\"config.show.parentBBox\"\n                v-bind:disabled=\"!parentBBox\"\n                v-on:change=\"showParentBBox\"\n                true-value=\"true\"\n                false-value=\"\"\n              />\n              <span class=\"custom-control-label\">Parent Bounding Box</span>\n            </label>\n          </div>\n          <div class=\"config-group\">\n            <label\n              for=\"config-show-sibling-geojson\"\n              class=\"custom-control custom-radio custom-control-inline\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"control-input\"\n                id=\"config-show-sibling-geojson\"\n                v-model=\"config.show.siblingGeojson\"\n                v-bind:disabled=\"!siblingGeojson\"\n                v-on:change=\"showSiblingGeojson\"\n                true-value=\"true\"\n                false-value=\"\"\n              />\n              <span class=\"custom-control-label\">Sibling Geojson</span>\n            </label>\n          </div>\n          <hr />\n          <h5 class=\"config-title\"> Validation Rules</h5>\n          <div class=\"config-group\">\n            <label\n              for=\"config-validation-rules-no-intersecting-features\"\n              class=\"custom-control custom-radio custom-control-inline\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"control-input\"\n                id=\"config-validation-rules-no-intersecting-features\"\n                v-model=\"config.validationRules.noIntersectingFeatures\"\n                v-bind:disabled=\"errors.turf\"\n                true-value=\"true\"\n                false-value=\"\"\n              />\n              <span class=\"custom-control-label\">No Intersecting Features</span>\n            </label>\n          </div>\n          <div class=\"config-group\">\n            <label\n              for=\"config-validation-rules-do-not-intersect-sibling-geojson\"\n              class=\"custom-control custom-radio custom-control-inline\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"control-input\"\n                id=\"config-validation-rules-do-not-intersect-sibling-geojson\"\n                v-model=\"config.validationRules.doNotIntersectSiblingGeojson\"\n                v-bind:disabled=\"errors.turf\"\n                true-value=\"true\"\n                false-value=\"\"\n              />\n              <span class=\"custom-control-label\">Do Not Intersect Sibling Geojson</span>\n            </label>\n          </div>\n          <div class=\"config-group\">\n            <label\n              for=\"config-validation-rules-features-in-bounding-box\"\n              class=\"custom-control custom-radio custom-control-inline\"\n            >\n              <input\n                type=\"checkbox\"\n                class=\"control-input\"\n                id=\"config-validation-rules-features-in-bounding-box\"\n                v-model=\"config.validationRules.featuresInBoundingBox\"\n                true-value=\"true\"\n                false-value=\"\"\n                v-bind:disabled=\"!parentBBox || errors.turf\"\n              />\n              <span class=\"custom-control-label\">All Features in Bounding Box</span>\n            </label>\n          </div>\n\n        </div>\n      </div>\n      <!-- end geojson config pane -->\n    </div>\n\n    <!-- manual data input container -->\n    <form\n      id=\"feature-container\"\n      v-show=\"((inputType == 'manual'))\"\n      v-if=\"wDataInputType == 'manual' || wDataInputType == 'both'\"\n    >\n      <div class=\"m-b-20\">\n        <button\n          class=\"btn btn-primary\"\n          v-on:click.prevent=\"addFeature(1)\"\n          v-bind:disabled=\"!canAddFeature\"\n        > Add Feature\n        </button>\n        <div\n          v-for=\"(feature, fIdx) in geojson.features\"\n          v-bind:key=\"fIdx\"\n          class=\"col-lg-12 m-t-10 feature\"\n        >\n          <div class=\"m-b-10 m-r-10 feature-title\">\n            <label class=\"control-label\">Title</label>\n            <input\n              v-model=\"feature.properties.title\"\n              v-bind:ref=\"'featureTitle' + fIdx\"\n              v-bind:disabled=\"inputDisabled\"\n              type=\"text\"\n              class=\"form-control\"\n              required\n            />\n          </div>\n          <div class=\"m-b-10 m-r-10 feature-coordinates\">\n            <label class=\"control-label\">\n              Coordinates\n              <span class=\"text-danger\">*</span>\n            </label>\n            <input\n              v-model=\"feature.geometry.coordinates\"\n              v-bind:ref=\"'featureCoordinates' + fIdx\"\n              v-bind:disabled=\"inputDisabled\"\n              type=\"text\"\n              class=\"form-control\"\n              required\n            />\n          </div>\n          <div class=\"feature-actions\">\n            <button\n              class=\"btn btn-danger\"\n              v-on:click.prevent=\"removeFeature(fIdx)\"\n              v-bind:disabled=\"inputDisabled\"\n            > Remove\n            </button>\n          </div>\n        </div>\n      </div>\n    </form>\n    <!-- end manual data input container -->\n\n    <!-- map data input container -->\n    <div>\n      <div \n        id=\"map\" \n        class=\"m-t-20\" \n        v-show=\"((inputType == 'map'))\" \n        v-if=\"wDataInputType == 'map' || wDataInputType == 'both'\"\n        ref=\"mapObj\"></div>\n    </div>\n    <!-- end manual data input container -->\n\n    <div class=\"middle\">\n      <div class=\"btn-group m-b-20\">\n        <button\n          class=\"btn btn-primary\"\n          style=\"float: right\"\n          v-on:click.stop=\"editMapData\"\n          v-bind:disabled=\"canEdit\"\n        > Edit\n        </button>\n        <button \n          class=\"btn btn-primary\" \n          style=\"float: right\" \n          v-on:click.stop=\"resetMapData\"\n          v-bind:disabled=\"canReset\"\n        > Reset\n        </button>\n        <button \n          class=\"btn btn-primary\" \n          style=\"float: right\" \n          v-on:click.stop=\"validateMapData\"\n          v-bind:disabled=\"canValidate\"\n        > Validate\n        </button>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nvar map = null,\n  geoJSONGroup = null,\n  parentBBoxGeoJSONGroup = null,\n  siblingGeoJSONGroup = null,\n  featureGroup = null,\n  drawControl = null;\n\nexport default {\n  props: [\"mapboxAccessToken\", \"minFeatures\", \"maxFeatures\", \"dataInputType\", \"parentBBox\", \"siblingGeojson\"],\n  data() {\n    return {\n      inputDisabled: false,\n      inputType: null,\n      countFeatures: 0,\n      geojson: {\n        type: \"FeatureCollection\",\n        features: []\n      },\n      finalGeojson: {\n        type: \"FeatureCollection\",\n        features: []\n      },\n      defaults: {\n        geojson: {\n          type: \"FeatureCollection\",\n          features: []\n        },\n        dataInputType: \"both\"\n      },\n      config: {\n        minFeatures: 1,\n        maxFeatures: 10,\n        show: {\n          configContainer: \"none\",\n          parentBBox: true,\n          siblingGeojson: true,\n        },\n        validationRules: {\n          noIntersectingFeatures: false,\n          doNotIntersectSiblingGeojson: false,\n          featuresInBoundingBox: false\n        }\n      },\n      errors: {\n        turf: false\n      }\n    };\n  },\n  methods: {\n    toggleConfigContainer: function() {\n      if (this.config.show.configContainer == \"none\") {\n        this.config.show.configContainer = 'block';\n      } else {\n        this.config.show.configContainer = 'none';\n      }\n    },\n    addFeature: function(numFeatures) {\n      for (let idx = 0; idx < numFeatures; idx++) {\n        let newFeature = turf.polygon([]);\n        this.geojson.features.push(newFeature);\n        this.countFeatures++;\n      }\n    },\n    removeFeature: function(fIdx) {\n      if (this.geojson.features.length > this.config.minFeatures) {\n        this.geojson.features.splice(fIdx, 1);\n        this.countFeatures--;\n      } else {\n        this.$emit(\"error\", \"Geojson must have at least 1 feature\");\n      }\n    },\n    validateMapData: async function() {\n      var vm = this;\n      var dataGeojson = null;\n\n      this.finalGeojson = JSON.parse(JSON.stringify(this.defaults.geojson));\n\n      switch (this.inputType) {\n        case \"manual\":\n          dataGeojson = JSON.parse(JSON.stringify(this.geojson));\n          break;\n        case \"map\":\n          dataGeojson = geoJSONGroup.toGeoJSON();\n          break;\n      }\n\n      // run the tests\n      this.testHasValidFeatures(this.inputType, dataGeojson)\n        .then(THVF => {\n          var TFIOA = (this.config.validationRules.noIntersectingFeatures) ?\n            this.testFeaturesIntersectOneAnother(\n              vm.finalGeojson.features\n            ) : Promise.resolve(true);\n          var TFISG = (this.config.validationRules.doNotIntersectSiblingGeojson) ?\n            this.testFeaturesIntersectSiblingGeojson(\n              vm.finalGeojson.features\n            ) : Promise.resolve(true);\n          var TBBCF = (this.config.validationRules.featuresInBoundingBox) ? \n            this.testBoundingBoxContainsFeatures(\n              vm.finalGeojson.features,\n              this.parentBBox\n            ) : Promise.resolve(true);\n\n          Promise.all([TFIOA, TFISG, TBBCF])\n            .then(values => {\n              vm.inputDisabled = true;\n              if (drawControl) map.removeControl(drawControl);\n              vm.$emit(\"input\", this.finalGeojson);\n            })\n            .catch(err => {\n              var errMsgs = [],\n                errMsg = \"\";\n              if (err.test == \"TFIOA\" || err.test == \"TFISG\") {\n                err.data.forEach(errItem => {\n                  if (vm.inputType == \"manual\") {\n                    vm.$refs[\n                      \"featureCoordinates\" + errItem[\"indexes\"][0]\n                    ][0].classList.add(\"is-invalid\");\n                    vm.$refs[\n                      \"featureCoordinates\" + errItem[\"indexes\"][1]\n                    ][0].classList.add(\"is-invalid\");\n                    errMsg =\n                      \"Feature '\" +\n                      errItem[\"titles\"][0] +\n                      \"' intersects/is within Feature '\" +\n                      errItem[\"titles\"][1] +\n                      \"'\";\n                  } else if (vm.inputType == \"map\") {\n                    errMsg = \"Features are not to intersect one another (\" + errItem.titles.join(\", \") + \")\";\n                  }\n                  vm.$emit(\"error\", errMsg);\n                });\n              } else if (err.test == \"TBBCF\") {\n                err.data.forEach((errTitle) => {\n                  errMsg = \"Feature '\" + errTitle + \"' is not fully within the Parent Bounding Box\";\n                  vm.$emit(\"error\", errMsg);\n                });\n              } else {\n                vm.$emit(\"error\", \"Unable to process complex feature intersections. Recheck\");\n              }\n            });\n        })\n        .catch(err => {\n          vm.$emit(\"error\", err.data);\n        });\n    },\n    editMapData: function() {\n      this.inputDisabled = false;\n      if (!drawControl._map) map.addControl(drawControl);\n    },\n    resetMapData: function() {\n      switch (this.inputType) {\n        case \"manual\":\n          this.geojson = JSON.parse(JSON.stringify(this.defaults.geojson));\n          break;\n        case \"map\":\n          if (drawControl && !drawControl._map) map.addControl(drawControl);\n          this.countFeatures = 0;\n          break;\n        default:\n          break;\n      }\n      if (geoJSONGroup) geoJSONGroup.clearLayers();\n      this.finalGeojson = JSON.parse(JSON.stringify(this.defaults.geojson));\n      this.inputDisabled = false;\n      this.$emit(\"input\", null);\n    },\n    testHasValidFeatures: function(inputType, dataGeojson) {\n      return new Promise((resolve, reject) => {\n        var vm = this;\n\n        switch (inputType) {\n          case \"manual\":\n            this.finalGeojson = JSON.parse(JSON.stringify(this.defaults.geojson));\n            dataGeojson.features.forEach((feature, fIdx) => {\n              var coordElement = vm.$refs[\"featureCoordinates\" + fIdx][0];\n              coordElement.classList.remove(\"is-invalid\");\n\n              try {\n                if (!feature.properties.title) {\n                  throw new Error(\"Feature must have a title\");\n                }\n                let poly = turf.polygon(JSON.parse(feature.geometry.coordinates), {\n                  title: feature.properties.title\n                });\n                vm.finalGeojson.features.push(poly);\n              } catch (err) {\n                vm.finalGeojson = JSON.parse(JSON.stringify(this.defaults.geojson));\n                coordElement.classList.add(\"is-invalid\");\n                coordElement.focus();\n\n                reject({ test: \"THVF\", data: err.message, success: false });\n              }\n            });\n            break;\n          case \"map\":\n            this.finalGeojson = geoJSONGroup.toGeoJSON();\n            if (this.finalGeojson.features.length < 1) {\n              reject({\n                test: \"THVF\",\n                data: \"Use the drawing tools to draw at least one polygon\"\n              });\n            } else if (this.finalGeojson.features.length > this.config.maxFeatures) {\n              reject({\n                test: \"THVF\",\n                data:\n                  \"Number of features exceeds limit for selected Geofence Type\"\n              });\n            }\n            break;\n          default:\n            break;\n        }\n\n        resolve({ test: \"THVF\", success: true });\n      });\n    },\n    testFeaturesIntersectOneAnother(features) {\n      return new Promise((resolve, reject) => {\n        var intersects = [];\n        var intersectObj = null;\n        let len1 = features.length;\n\n        for (let pFIdx = 0; pFIdx < len1; pFIdx++) {\n          var primaryFeature = features[pFIdx],\n            primaryFeatureTitle = features[pFIdx].properties.title\n              ? features[pFIdx].properties.title\n              : (pFIdx + 1);\n          for (let sFIdx = pFIdx + 1; sFIdx < len1; sFIdx++) {\n            var secondaryFeature = features[sFIdx],\n              secondaryFeatureTitle = features[sFIdx].properties.title\n                ? features[sFIdx].properties.title\n                : (sFIdx + 1);\n\n            // test for intersecting features\n            intersectObj = turf.intersect(primaryFeature, secondaryFeature);\n\n            if (\n                intersectObj && \n                [\"Polygon\", \"MultiPolygon\"].indexOf(intersectObj.geometry.type) > -1) \n            {\n              intersects.push({\n                titles: [primaryFeatureTitle, secondaryFeatureTitle],\n                indexes: [pFIdx, sFIdx]\n              });\n            } else {\n              continue;\n            }\n          }\n        }\n\n        if (intersects.length == 0) {\n          resolve({ test: \"TFIOA\", success: true });\n        } else {\n          reject({ test: \"TFIOA\", data: intersects, success: false });\n        }\n      });\n    },\n    testFeaturesIntersectSiblingGeojson(features) {\n      return new Promise((resolve, reject) => {\n        var intersects = [];\n        var intersectObj = null;\n        const siblingFeatures = this.siblingGeojson.features;\n\n        for (let siblingFIdx = 0; siblingFIdx < siblingFeatures.length; siblingFIdx++) {\n          var siblingFeature = siblingFeatures[siblingFIdx],\n            siblingFeatureTitle = siblingFeatures[siblingFIdx].properties.title\n              ? siblingFeatures[siblingFIdx].properties.title\n              : (siblingFIdx + 1);\n              \n          for (let newFIdx = 0; newFIdx < features.length; newFIdx++) {\n            var newFeature = features[newFIdx],\n              newFeatureTitle = features[newFIdx].properties.title\n                ? features[newFIdx].properties.title\n                : (newFIdx + 1);\n\n            // test for intersecting features\n            intersectObj = turf.intersect(siblingFeature, newFeature);\n\n            if (\n                intersectObj && \n                [\"Polygon\", \"MultiPolygon\"].indexOf(intersectObj.geometry.type) > -1) \n            {\n              intersects.push({\n                titles: [siblingFeatureTitle, newFeatureTitle],\n                indexes: [siblingFIdx, newFIdx]\n              });\n            } else {\n              continue;\n            }\n          }\n        }\n\n        if (intersects.length == 0) {\n          resolve({ test: \"TFISG\", success: true });\n        } else {\n          reject({ test: \"TFISG\", data: intersects, success: false });\n        }\n      });\n    },\n    testBoundingBoxContainsFeatures(features, parentBBox = null) {\n      return new Promise((resolve, reject) => {\n        var intersects = [],\n          fpCount = 0;\n\n        if (parentBBox != null) {\n          for (let pFIdx = 0; pFIdx < features.length; pFIdx++) {\n            const pFeature = features[pFIdx];\n\n            var featurePoints = turf.explode(pFeature)\n              .features.map((pp) => {\n                return pp.geometry;\n              });\n            fpCount = featurePoints.length;\n            var featurePointsCol = turf.featureCollection(featurePoints);\n\n            var pointsWithinParentBBox = turf.within(\n              featurePointsCol, \n              parentBBox\n            );\n            \n            if (pointsWithinParentBBox.features.length != fpCount) {\n              const pFeatureTitle = pFeature.properties.title\n                ? pFeature.properties.title\n                : (pFIdx + 1);\n              intersects.push(pFeatureTitle);\n            }\n          }\n        }\n\n        if (intersects.length == 0) {\n          resolve({ test: \"TBBCF\", success: true });\n        } else {\n          reject({ test: \"TBBCF\", data: intersects, success: false });\n        }\n      });\n    },\n    mapDataInputChanged: function(nextView) {\n      var vm = this;\n\n      if (nextView == \"manual\") {\n        this.geojson = JSON.parse(JSON.stringify(geoJSONGroup.toGeoJSON()));\n        this.geojson.features.forEach(feature => {\n          feature.geometry.coordinates = JSON.stringify(feature.geometry.coordinates);\n        });\n      } else if (nextView == \"map\") {\n        this.testHasValidFeatures(\"manual\", JSON.parse(JSON.stringify(this.geojson)))\n          .then(() => {\n            this.initializeMap();\n          })\n          .catch((err) => {\n            vm.inputType = \"manual\";\n            vm.$emit(\"error\", err.data);\n          })\n      }\n    },\n    showParentBBox: function() {\n      var vm = this;\n\n      if (vm.config.show.parentBBox) {\n        try {\n          this.parentBBoxGeoJSONGroup = L.geoJSON(vm.parentBBox, {\n            style: {\n              pmIgnore: true,\n              color: \"#555555\",\n              fillOpacity: 0.25,\n              fillColor: \"#6491A2\",\n              weight: 2\n            }\n          }).addTo(map).bringToBack();\n\n          // draw features and zoom to fit features\n          map.fitBounds(this.parentBBoxGeoJSONGroup.getBounds());\n          vm.$nextTick(() => {\n            if (map) {\n              map.invalidateSize();\n              map.fitBounds(this.parentBBoxGeoJSONGroup.getBounds());\n            }\n          });\n        } catch (err) {\n          vm.$emit(\"error\", err.message);\n        }\n      } else {\n        map.removeLayer(this.parentBBoxGeoJSONGroup);\n      }\n    },\n    showSiblingGeojson: function() {\n      var vm = this;\n\n      if (vm.config.show.siblingGeojson) {\n        try {\n          this.siblingGeoJSONGroup = L.geoJSON(vm.siblingGeojson, {\n            style: {\n              pmIgnore: true,\n              color: \"#EA9E14\",\n              dashArray: \"3 1\",\n              dashOffset: \"3\",\n              fillOpacity: 0.25,\n              fillColor: \"#F2D678\",\n              weight: 2\n            }\n          }).addTo(map).bringToBack();\n        } catch (err) {\n          vm.$emit(\"error\", err);\n        }\n      } else {\n        map.removeLayer(this.siblingGeoJSONGroup);\n      }\n    },\n    initializeMap: function() {\n      var vm = this;\n\n      try {\n        if (!map) {\n          L.mapbox.accessToken = this.mapboxAccessToken;\n\n          featureGroup = L.featureGroup();\n          map = L.map(\"map\", { worldCopyJump: true })\n            .setView([8, -1.5], 7)\n            .addLayer(\n              L.mapbox.styleLayer(\"mapbox://styles/mapbox/streets-v11\", {\n                tileLayer: { format: \"jpg70\" }\n              })\n            );\n\n          map.on(\"draw:created\", (e, l) => {\n            try {\n              if (vm.countFeatures >= vm.config.maxFeatures) {\n                vm.$emit(\"error\", \"Number of features exceeds limit for selected Geofence Type\");\n              } else {\n                vm.countFeatures++;\n                featureGroup.clearLayers();\n                featureGroup\n                  .addLayer(e.layer)\n                  .setZIndex();\n                geoJSONGroup.addData(featureGroup.toGeoJSON());\n                vm.$emit(\"input\", null);\n              }\n            } catch (err) {\n              vm.$emit(\"error\", err);\n            }\n          });\n          map.on(\"draw:edited\", e => {\n            // DO NOTHING\n          });\n          map.on(\"draw:deleted\", e => {\n            vm.countFeatures -= Object.keys(e.layers._layers).length;\n          });\n\n        }\n\n        // TODO;\n        // Add geolocate control to the map.\n\n        if (!geoJSONGroup) {\n          const data = JSON.parse(JSON.stringify(vm.finalGeojson));\n          geoJSONGroup = L.geoJSON(data, {\n            onEachFeature: (feature, layer) => {\n              // tag on layer for easy removal/deletion\n              layer.tag = feature.properties.title;\n              // input for feature title\n              var input = L.DomUtil.create(\"input\", \"my-input\");\n              input.value = (feature.properties.title) ? feature.properties.title : \"\";\n              L.DomEvent.addListener(input, \"change\", function() {\n                feature.properties.title = input.value;\n              });\n              layer.bindPopup(input);\n            }\n          })\n          .addTo(map);\n        } else {\n          geoJSONGroup.clearLayers();\n          const data = JSON.parse(JSON.stringify(vm.finalGeojson));\n          geoJSONGroup.addData(data);\n        }\n\n        if (!drawControl) {\n          drawControl = new L.Control.Draw({\n            edit: {\n              featureGroup: geoJSONGroup\n            },\n            draw: {\n              polygon: true,\n              polyline: false,\n              rectangle: true,\n              circle: false,\n              marker: false\n            }\n          });\n        }\n\n        // add draw controls if input data is through  the map\n        if (this.inputType == \"map\") {\n          map.whenReady(() => {\n            window.dispatchEvent(new Event(\"resize\"));\n          });\n          if (!vm.inputDisabled && !drawControl._map) {\n            map.addControl(drawControl);\n          }\n          if (this.geoJSONGroup) {\n            vm.$nextTick(() => {\n              map.invalidateSize();\n              map.fitBounds(geoJSONGroup.getBounds());\n            });\n          }\n          if (this.siblingGeojson) {\n            this.config.show.siblingGeojson = true;\n            this.showSiblingGeojson();\n          }\n          if (this.parentBBox) {\n            this.config.show.parentBBox = true;\n            this.showParentBBox();\n          }\n        }\n      } catch (err) {\n        vm.$emit(\"error\", err);\n      }\n    }\n  },\n  computed: {\n    canAddFeature: function() {\n      return (\n        !this.errors.turf && \n        !this.inputDisabled &&\n        this.geojson.features.length < this.config.maxFeatures \n      );\n    },\n    canReset: function() {\n      return this.errors.turf || !this.inputDisabled;\n    },\n    canEdit: function() {\n      return this.errors.turf || !this.inputDisabled;\n    },\n    canValidate: function() {\n      return this.inputDisabled;\n    }\n  },\n  created: function() {\n    if (this.minFeatures) this.config.minFeatures = this.minFeatures;\n    if (this.maxFeatures) this.config.maxFeatures = this.maxFeatures;\n    if (this.config.minFeatures > this.config.maxFeatures) {\n      this.$emit(\"error\", \"Min features cannot be greater than Max features\");\n    }\n\n    this.wDataInputType = (!this.dataInputType) ? this.defaults.dataInputType : this.dataInputType;\n    if (this.wDataInputType == \"manual\" || this.wDataInputType == \"both\") {\n      this.inputType = \"manual\";\n    } else if (this.wDataInputType == \"map\") {\n      this.inputType = \"map\";\n      this.initializeMap();\n    }\n  },\n  mounted: function() {\n    var vm = this;\n\n    vm.resetMapData();\n    vm.initializeMap();\n\n    // check if turf is available\n    try {\n      turf.point([0,0]);\n      this.errors.turf = false;\n      this.inputDisabled = false;\n    } catch (err) {\n      this.errors.turf = true;\n      this.inputDisabled = true;\n      vm.$emit(\"error\", err);\n    }\n  },\n  beforeRouteLeave: function(to, from, next) {\n    this.inputType = \"map\";\n    this.resetMapData();\n    this.inputType = \"manual\";\n    this.resetMapData();\n    next();\n  }\n};\n</script>\n\n<style>\n  #map {\n    width: 100% !important;\n    min-height: 500px;\n  }\n\n  .nopadding {\n      padding: 0px;\n  }\n\n  .m-r-0 {\n      margin-right: 0px;\n  }\n\n  .m-r-5 {\n      margin-right: 5px;\n  }\n\n  .m-r-10 {\n      margin-right: 10px;\n  }\n\n  .m-r-20 {\n      margin-right: 20px;\n  }\n\n  .m-l-0 {\n      margin-left: 0px;\n  }\n\n  .m-l-5 {\n      margin-left: 5px;\n  }\n\n  .m-l-10 {\n      margin-left: 10px;\n  }\n\n  .m-l-20 {\n      margin-left: 20px;\n  }\n\n  .m-t-0 {\n      margin-top: 0px;\n  }\n\n  .m-t-10 {\n      margin-top: 10px;\n  }\n\n  .m-t-20 {\n      margin-top: 20px;\n  }\n\n  .m-b-0 {\n      margin-bottom: 0px;\n  }\n\n  .m-b-10 {\n      margin-bottom: 10px;\n  }\n\n  .m-b-20 {\n      margin-bottom: 20px;\n  }\n\n\n  .container {\n    display: block;\n\n  }\n\n  .form-group {\n    display: block;\n  }\n\n  button {\n    padding: 10px;\n    border: 0px;\n  }\n\n  .middle {\n    margin: 0px auto;\n  }\n\n  .right {\n    float: right;\n  }\n\n  .container {\n    display: flex;\n    flex-direction: column;\n    border: 1px solid lightgray;\n  }\n\n  #top-widget-controls {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    background-color: lightgray;\n  }\n\n  #top-widget-controls div {\n    display: inline;\n    padding: 10px;\n  }\n\n  #top-widget-controls .form-group h5 {\n    line-height: 2em;\n  }\n\n  #top-widget-controls .form-group label {\n    line-height: 2em;\n  }\n\n  #feature-container {\n    padding: 10px;\n  }\n\n  .feature {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    margin: 10px;\n  }\n\n  .feature-title {\n    flex: 2 0 200px;\n    display: flex;\n    flex-direction: row;\n  }\n\n  .feature-coordinates {\n    flex: 7 0 400px;\n    display: flex;\n    flex-direction: row;\n  }\n\n  .feature-actions {\n    flex: 1 0 50px;\n  }\n\n  .feature-title label,\n  .feature-coordinates label {\n    flex: 1 0 50px;\n  }\n\n  .feature-title input,\n  .feature-coordinates input {\n    flex: 3 0 150px;\n  }\n\n  .config {\n    position: relative;\n    display: inline-block;\n  }\n\n  .config-title {\n    margin: 10px 0 0 0;\n  }\n\n  .config-group {\n    padding: 5px !important;\n    text-align: left;\n    width: 100%;\n    display: block !important;\n  }\n\n  .config-content {\n    /*display: none;*/\n    display: block;\n    position: absolute;\n    right: 10px;\n    background-color: #f9f9f9;\n    min-width: 250px;\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    padding: 12px 16px;\n    z-index: 1;\n  }\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeoJSONWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeoJSONWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GeoJSONWidget.vue?vue&type=template&id=1cf4a292&\"\nimport script from \"./GeoJSONWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./GeoJSONWidget.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GeoJSONWidget.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <geojson-widget\n      mapbox-access-token=\"pk.eyJ1IjoidGVqLWt3ZWt1IiwiYSI6ImNrYXY4aW43dzA5OG4ycXBjbXp0b2FveWMifQ.ZkKcESUjcSJOaa3zACXJNw\"\n      min-features=\"1\"\n      max-features=\"5\"\n      v-bind:parentBBox=\"parentBBox\"\n      v-bind:sibling-geojson=\"siblingGeojson\"\n      v-on:input=\"newGeoJSON($event)\"\n      v-on:error=\"showError\"\n      v-model=\"gd\"\n    ></geojson-widget>\n\n    {{ gd }}\n  </div>\n</template>\n\n<script>\nimport GeoJSONWidget from './components/GeoJSONWidget.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    \"geojson-widget\": GeoJSONWidget\n  },\n  data: function() {\n    return {\n      gd: null,\n      geojson: null,\n      siblingGeojson: {\n        \"type\": \"FeatureCollection\",\n        \"features\": [\n          {\n            \"type\": \"Feature\",\n            \"properties\": {title: \"first cousin\"},\n            \"geometry\": {\n              \"type\": \"Polygon\",\n              \"coordinates\": [\n                [\n                  [\n                    -0.296630859375,\n                    5.5941182188847876\n                  ],\n                  [\n                    -0.149688720703125,\n                    5.5941182188847876\n                  ],\n                  [\n                    -0.149688720703125,\n                    5.662451740971942\n                  ],\n                  [\n                    -0.296630859375,\n                    5.662451740971942\n                  ],\n                  [\n                    -0.296630859375,\n                    5.5941182188847876\n                  ]\n                ]\n              ]\n            }\n          },\n          {\n            \"type\": \"Feature\",\n            \"properties\": {title: \"second title\"},\n            \"geometry\": {\n              \"type\": \"Polygon\",\n              \"coordinates\": [\n                [\n                  [\n                    -0.064544677734375,\n                    5.7362428668801515\n                  ],\n                  [\n                    0.076904296875,\n                    5.7362428668801515\n                  ],\n                  [\n                    0.076904296875,\n                    5.834616165610059\n                  ],\n                  [\n                    -0.064544677734375,\n                    5.834616165610059\n                  ],\n                  [\n                    -0.064544677734375,\n                    5.7362428668801515\n                  ]\n                ]\n              ]\n            }\n          }\n        ]\n      },\n      parentBBox: {\n        \"type\": \"FeatureCollection\",\n        \"features\": [\n          {\n            \"type\": \"Feature\",\n            \"properties\": {},\n            \"geometry\": {\n              \"type\": \"Polygon\",\n              \"coordinates\": [\n                [\n                  [\n                    -0.358428955078125,\n                    5.50253880002853\n                  ],\n                  [\n                    -0.215606689453125,\n                    5.528510525692801\n                  ],\n                  [\n                    -0.2032470703125,\n                    5.54354626745624\n                  ],\n                  [\n                    -0.1263427734375,\n                    5.559948458049067\n                  ],\n                  [\n                    -0.06042480468749999,\n                    5.606418844830032\n                  ],\n                  [\n                    0.00823974609375,\n                    5.629652652785774\n                  ],\n                  [\n                    0.0714111328125,\n                    5.693882453800991\n                  ],\n                  [\n                    0.127716064453125,\n                    5.708913926756642\n                  ],\n                  [\n                    0.17990112304687497,\n                    5.743074897562802\n                  ],\n                  [\n                    0.215606689453125,\n                    5.749906846313842\n                  ],\n                  [\n                    0.350189208984375,\n                    5.7854316553618625\n                  ],\n                  [\n                    0.52459716796875,\n                    5.784065357729645\n                  ],\n                  [\n                    0.685272216796875,\n                    5.774501181937736\n                  ],\n                  [\n                    0.718231201171875,\n                    5.78133275256497\n                  ],\n                  [\n                    0.7086181640625,\n                    5.799094449996251\n                  ],\n                  [\n                    0.715484619140625,\n                    5.810024447507327\n                  ],\n                  [\n                    0.70037841796875,\n                    5.851010045440856\n                  ],\n                  [\n                    0.649566650390625,\n                    5.863305139944947\n                  ],\n                  [\n                    0.638580322265625,\n                    5.9152147675357885\n                  ],\n                  [\n                    0.600128173828125,\n                    5.976680390439319\n                  ],\n                  [\n                    0.53558349609375,\n                    6.0176536419409326\n                  ],\n                  [\n                    0.50262451171875,\n                    6.0039962335866095\n                  ],\n                  [\n                    0.49163818359375,\n                    6.02311650923819\n                  ],\n                  [\n                    0.46279907226562494,\n                    6.032676394740438\n                  ],\n                  [\n                    0.4010009765625,\n                    6.038139110789942\n                  ],\n                  [\n                    0.34332275390625,\n                    6.0108249806119876\n                  ],\n                  [\n                    0.318603515625,\n                    5.982143668342713\n                  ],\n                  [\n                    0.3131103515625,\n                    5.946631388408496\n                  ],\n                  [\n                    0.252685546875,\n                    5.886528467660797\n                  ],\n                  [\n                    0.215606689453125,\n                    5.878332109674327\n                  ],\n                  [\n                    0.20050048828125,\n                    5.894724704759804\n                  ],\n                  [\n                    0.185394287109375,\n                    5.931606271274155\n                  ],\n                  [\n                    0.152435302734375,\n                    5.946631388408496\n                  ],\n                  [\n                    0.138702392578125,\n                    5.969851216370788\n                  ],\n                  [\n                    0.127716064453125,\n                    5.991704273292104\n                  ],\n                  [\n                    0.09750366210937499,\n                    6.0039962335866095\n                  ],\n                  [\n                    0.08514404296875,\n                    5.999898944276991\n                  ],\n                  [\n                    0.05767822265625,\n                    6.008093492080039\n                  ],\n                  [\n                    0.001373291015625,\n                    5.964387815824366\n                  ],\n                  [\n                    -0.020599365234375,\n                    5.995801624171918\n                  ],\n                  [\n                    -0.0439453125,\n                    5.9930700603368505\n                  ],\n                  [\n                    -0.06042480468749999,\n                    5.946631388408496\n                  ],\n                  [\n                    -0.089263916015625,\n                    5.901554809878024\n                  ],\n                  [\n                    -0.141448974609375,\n                    5.872867803938939\n                  ],\n                  [\n                    -0.1483154296875,\n                    5.8141231418985\n                  ],\n                  [\n                    -0.185394287109375,\n                    5.779966445034052\n                  ],\n                  [\n                    -0.208740234375,\n                    5.78133275256497\n                  ],\n                  [\n                    -0.24169921874999997,\n                    5.810024447507327\n                  ],\n                  [\n                    -0.273284912109375,\n                    5.797728185409691\n                  ],\n                  [\n                    -0.28839111328125,\n                    5.766303188459986\n                  ],\n                  [\n                    -0.35980224609374994,\n                    5.770402200015781\n                  ],\n                  [\n                    -0.4229736328125,\n                    5.78679794969297\n                  ],\n                  [\n                    -0.4229736328125,\n                    5.810024447507327\n                  ],\n                  [\n                    -0.49575805664062494,\n                    5.7908968128719565\n                  ],\n                  [\n                    -0.509490966796875,\n                    5.737609279566594\n                  ],\n                  [\n                    -0.457305908203125,\n                    5.64605242890779\n                  ],\n                  [\n                    -0.369415283203125,\n                    5.611885706520331\n                  ],\n                  [\n                    -0.363922119140625,\n                    5.573616601115098\n                  ],\n                  [\n                    -0.3790283203125,\n                    5.538078769250832\n                  ],\n                  [\n                    -0.358428955078125,\n                    5.50253880002853\n                  ]\n                ]\n              ]\n            }\n          }\n        ]\n      },\n    }\n  },\n  methods: {\n    newGeoJSON: function(geojson) {\n      console.log(geojson);\n      this.geojson = geojson;\n    },\n    showError: function(err) {\n      console.log(err);\n      alert(err);\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n/*@import \"./assets/css/style.css\";*/\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=334c6a6e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}